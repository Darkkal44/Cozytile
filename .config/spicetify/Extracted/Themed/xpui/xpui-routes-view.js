"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[6450],{89918:(e,s,n)=>{n.d(s,{Z:()=>a});var i=n(38751),r=n(75792),t=n(4637);const a=({name:e,uri:s,images:n,isHero:a,testId:o,description:c,index:l,requestId:d,color:u})=>(0,t.jsx)(i.C,{index:l,featureIdentifier:"artist_concerts",headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,t.jsx)(r.x,{isHero:a,images:n,color:u}),renderSubHeaderContent:()=>(0,t.jsx)("span",{children:c||""}),testId:o,requestId:d})},63839:(e,s,n)=>{n.d(s,{q:()=>k});var i=n(93017),r=n(88935),t=n(38751),a=n(75792),o=n(59418),c=n(87422),l=n(4637);const d=({name:e="",uri:s="",images:n=[],isHero:i,onClick:r,testId:d,index:u})=>i?(0,l.jsx)(o.Z,{featureIdentifier:"unknown",index:u,onClick:r,headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,l.jsx)(a.x,{isHero:i,images:n}),renderSubHeaderContent:()=>(0,l.jsx)(c.k,{}),testId:d}):(0,l.jsx)(t.C,{index:u,featureIdentifier:"unknown",onClick:r,headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,l.jsx)(a.x,{isHero:i,images:n}),renderSubHeaderContent:()=>(0,l.jsx)("span",{}),testId:d});var u=n(68286),m=n(48562),g=n(13234),x=n(20016),h=n(89918),p=n(11517),f=n(96028),j=n(75906),I=n(45459),b=n(4491),v=n(8148),y=n(46029),C=n(3100);const k=({entity:e,index:s,testId:n,isHero:t=!1})=>{const a=((0,i.EC)(e.uri)||{}).type,o={testId:n,isHero:t,index:s,sharingInfo:e.sharingInfo};if(("string"==typeof e.uri||e.uri instanceof String)&&e.uri.startsWith("spotify:merch:"))return(0,l.jsx)(f.T,{...o,name:e.name,uri:e.uri,href:e.href,images:e.images,price:e.price});if(("string"==typeof e.uri||e.uri instanceof String)&&e.uri.startsWith("spotify:artist:")&&e.uri.endsWith(":concerts"))return(0,l.jsx)(h.Z,{...o,name:e.name,uri:e.uri,images:e.images,description:e.description});switch(a){case i.JM.ALBUM:case i.JM.COLLECTION_ALBUM:{const s=e;return(0,l.jsx)(g.r,{...o,name:s.name,uri:s.uri,images:s.images,artists:s.artists})}case i.JM.ARTIST:{const s=e;return(0,l.jsx)(x.I,{...o,name:s.name,uri:s.uri,images:s.images})}case i.JM.EPISODE:{const s=e;return(0,l.jsx)(p.B,{...o,name:s.name,uri:s.uri,images:s.images,showImages:s.show?.images||[],durationMilliseconds:s.duration_ms,releaseDate:s.release_date,resume_point:s.resume_point,description:s.description,isExplicit:s.explicit,is19PlusOnly:!!s.tags?.includes("MOGEF-19+")})}case i.JM.PLAYLIST:case i.JM.PLAYLIST_V2:{const s=e,n=s.owner?.display_name||e.owner?.displayName||"";return(0,l.jsx)(j.Z,{...o,name:s.name,uri:s.uri,images:s.images,description:s.description,authorName:n})}case i.JM.PROFILE:return(0,l.jsx)(I.P,{...o,name:e.name,uri:e.uri,images:e.images});case i.JM.SHOW:{const s=e;return(0,l.jsx)(v._,{...o,name:s.name,uri:s.uri,images:s.images,publisher:s.publisher,mediaType:{audio:m.E.AUDIO,video:m.E.VIDEO,mixed:m.E.MIXED}[s.media_type]??m.E.AUDIO})}case i.JM.APPLICATION:return(0,l.jsx)(r.s,{...o,name:e.name,uri:e.uri,images:e.images,description:e.description});case i.JM.RADIO:return(0,l.jsx)(b.I,{testId:n,index:s,name:e.name,uri:e.uri,images:e.images});case i.JM.TRACK:{const s=e;return(0,l.jsx)(y.G,{...o,name:s.name,uri:s.uri,images:s.album?.images||[],artists:s.artists,album:s.album,isExplicit:s.explicit,is19PlusOnly:s.tags?.includes("MOGEF-19+")})}case i.JM.COLLECTION:return e.uri.endsWith("your-episodes")?(0,l.jsx)(C.T,{index:s}):(0,l.jsx)(u.p,{index:s});default:return console.warn("Rendering a generic Card for unknown type:",a),(0,l.jsx)(d,{...o,name:e.name,uri:e.uri,images:e.images})}}},88935:(e,s,n)=>{n.d(s,{s:()=>l});var i=n(99302),r=n(38751),t=n(75792),a=n(59418),o=n(87422),c=n(4637);const l=({name:e,uri:s,images:n,isHero:l,onClick:d,testId:u,description:m,index:g,requestId:x,color:h})=>l?(0,c.jsx)(a.Z,{featureIdentifier:"genre",index:g,onClick:d,headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,c.jsx)(t.x,{isHero:l,images:n,color:h}),renderSubHeaderContent:()=>(0,c.jsx)(o.k,{children:m||i.ag.get("card.tag.genre")}),testId:u,requestId:x}):(0,c.jsx)(r.C,{index:g,featureIdentifier:"genre",onClick:d,headerText:e,uri:s,isPlayable:!1,renderCardImage:()=>(0,c.jsx)(t.x,{isHero:l,images:n,color:h}),renderSubHeaderContent:()=>(0,c.jsx)("span",{children:m||""}),testId:u,requestId:x})},96028:(e,s,n)=>{n.d(s,{T:()=>p});var i=n(59496),r=n(80672),t=n(9220),a=n(35031),o=n(99210),c=n(61946),l=n(92499),d=n(95543);const u="iSdDcgYotxUpyRSGLR62",m="EqZ5uEZ02bJiKlZNijVQ",g="UroGtnEGQiwN1yKyNXjC",x="Tv3tod8ggHvNrrRzE1Kg";var h=n(4637);const p=({name:e,uri:s,href:n,images:p,index:f,price:j,testId:I})=>{const{spec:b,logger:v}=(0,l.fU)(c.I,{data:{position:f,uri:s,reason:""}}),y=(0,d.X)(p,{desiredSize:300}),C=(0,i.useCallback)((()=>{v.logInteraction(b.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:n})),window.open(n,"_blank")}),[n,v,b]);return(0,h.jsx)(r.Z,{id:s,"data-testid":I,title:(0,h.jsx)(t.l,{className:x,children:e}),media:(0,h.jsx)("div",{className:u,children:y?(0,h.jsx)(a.x,{size:"sm",src:y?.url,alt:e}):(0,h.jsx)("div",{className:m,children:(0,h.jsx)("div",{className:g,children:(0,h.jsx)(o.C,{size:"xxlarge","aria-hidden":!0,"data-testid":"card-image-fallback"})})})}),onClick:C,size:"sm",subtitle:j},s)}},45459:(e,s,n)=>{n.d(s,{P:()=>g});var i=n(59496),r=n(56662),t=n(99302),a=n(25702),o=n(38751),c=n(75792),l=n(59418),d=n(87422),u=n(53103),m=n(4637);const g=i.memo((function(e){const{images:s,name:n,uri:g,onClick:x,isHero:h,testId:p,index:f,requestId:j,color:I}=e;let b;const v=(0,i.useCallback)((()=>(0,m.jsx)(c.x,{isCircular:!0,isHero:h,images:s,color:I,FallbackComponent:e=>(0,m.jsx)(r.a,{iconSize:64,...e})})),[I,s,h]),y=(0,i.useCallback)((()=>h?(0,m.jsx)(d.k,{children:t.ag.get("card.tag.profile")}):t.ag.get("card.tag.profile")),[h]);return b=h?(0,m.jsx)(l.Z,{index:f,onClick:x,headerText:n,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:v,renderSubHeaderContent:y,testId:p,requestId:j}):(0,m.jsx)(o.C,{index:f,onClick:x,headerText:n,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:v,renderSubHeaderContent:y,testId:p,requestId:j}),(0,m.jsx)(a._,{menu:(0,m.jsx)(u.I,{uri:g}),children:b})}))},16758:(e,s,n)=>{n.r(s),n.d(s,{DISALLOWED_VIEWS:()=>z,View:()=>Q,default:()=>V});var i=n(59496),r=n(84875),t=n.n(r),a=n(55411),o=n(1194),c=n(99302),l=n(752),d=n(25672),u=n(47526),m=n(78729),g=n(27445),x=n(92499),h=n(76907),p=n(57014),f=n(31267),j=n(82289),I=n(38730),b=n(68368),v=n(63839),y=n(78159),C=n(6721),k=n(51005),w=n(74834),E=n(3893),N=n(91608);const P="EPMDgp7znILo0hvyirzv",A="noUm6pjQ6KWq7mVxYDor",M="PqnKjxzJ1Zvr9qKRlRbO",L="uuBQS9Ym_VPmAQrLhPQb";var T=n(4637);const H=e=>(0,w.W6)(E.sEQ)?(0,T.jsxs)(N.default,{to:e.uri,target:"_blank",className:P,children:[(0,T.jsx)("div",{className:A}),(0,T.jsx)(k.D,{className:M,as:"h2",variant:"alto",children:e.label}),(0,T.jsx)(k.D,{className:L,as:"p",variant:"mesto",children:e.tagline})]}):null,S=e=>(0,T.jsx)(i.Suspense,{fallback:null,children:(0,T.jsx)(H,{...e})}),D=e=>e.id?.startsWith("scc-corona"),q=({spaces:e,viewName:s,viewId:n,isAnonymous:r})=>{const t=(0,i.useCallback)(((e,s)=>{const i=((e,s)=>{let{uri:n}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),"hub-browse-grid"===s&&(n=n.replace(":view:",":genre:"))),n})(e,n);return(0,T.jsx)(v.q,{index:s,entity:{...e,uri:i}},e.href)}),[n]),a=(0,i.useCallback)(((e,s)=>(0,T.jsx)(C.JL,{value:"card",index:s,children:(0,T.jsx)(v.q,{index:s,entity:e})},e.uri||s)),[]),o=(0,i.useCallback)(((e,s)=>"link"===e.type?t(e,s):a(e,s)),[a,t]),c=(0,i.useCallback)((e=>!!D(e)||!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||r&&"uniquely-yours-shelf"===e.id)),[r]);return e&&0!==e.length?e[0].content?(0,T.jsx)(T.Fragment,{children:e.filter(c).map(((e,s)=>{const i=e.content&&(0,h.p)((0,h.S)(e.href));if(D(e)){const s=e.content.items[0];return s&&s.name&&s.description&&s.href?(0,T.jsx)(S,{label:s.name,tagline:s.description,uri:s.href},"corona-banner"):null}return(0,T.jsx)(C.JL,{value:"headered-grid",index:s,children:(0,T.jsx)(y.q,{total:e.content.total,seeAllUri:i,pageId:n,title:e.name,tagline:e.tag_line||void 0,index:s,id:e.id,children:e.content.items.map(o)})},e.id)}))}):(0,T.jsx)(C.JL,{value:"headered-grid",children:(0,T.jsx)(y.q,{showAll:!0,title:s,total:e?.length||0,index:0,id:n??"spaces-see-all-grid",children:e?.map(o)})}):null};var _=n(31234);const O="XD65NhAD6ebYxMaW9cZZ",J="AJqEY1gblQDvIgjU0jAH",F="Ft1cMGlqDsCbqmXQyeKN",R="zlBEnsMyvUhuHSEtst4Q",U="INYpiFRlwWIZ0vH30xW2",W=e=>"HEADER"===e.rendering,Z=(e,s=[],n)=>{if(!e)return(0,T.jsx)("div",{className:U});const i=s.filter((e=>"background"===e.name));return(0,T.jsxs)(f.gF,{backgroundImages:i,backgroundColor:n,size:0===i.length?f.fR.SMALL:f.fR.DEFAULT,children:[(0,T.jsx)(j.W,{children:(0,T.jsx)(I.i,{text:e})}),(0,T.jsx)(f.sP,{children:(0,T.jsx)(f.xd,{children:e})})]})},G=e=>{const{title:s,images:n,backgroundColor:i}=e;return(0,T.jsx)(T.Fragment,{children:Z(s,n,i)})},z=["ginger-genre-affinity"],Q=i.memo((function({viewData:e,viewId:s,backgroundColor:n,isFullyLoaded:r,isGenre:a,isAnonymous:u,getNextPage:h}){const j=e?.name,{spec:I,UBIFragment:v}=(0,x.fU)(o.createDesktopGenreEventFactory,{data:{identifier:s,uri:`spotify:genre:${s}`}}),y=(0,i.useCallback)((()=>z.some((s=>e?.href?.includes(s)))),[e]),C=(0,i.useCallback)((()=>{if(!e)return;const s=y();r||s||h()}),[e,y,r,h]),k=(0,i.useMemo)((()=>{const{content:{items:s=[]}={}}=e||{},n=s.filter(W);return n.length>0?n[0]:null}),[e]),w=(0,i.useMemo)((()=>{const{name:s}=e||{};return k?k.name:n&&s}),[n,k,e]),E=(0,i.useMemo)((()=>a||Boolean(w)),[a,w]),N=(0,i.useMemo)((()=>!(!e||!Array.isArray(e.content.items))&&E),[E,e]),P=(0,f.oX)(s)?(0,T.jsx)(f.YD,{isAnonymous:u}):(0,T.jsx)(G,{title:k?.name||w,images:k?.images||[],backgroundColor:n}),A=e?.content.items,M=(0,i.useMemo)((()=>I.shelvesFactory()),[I]);return e?(0,T.jsxs)(T.Fragment,{children:[j?(0,T.jsx)(p.$,{children:(0,g.cT)({genreName:j})}):null,(0,T.jsx)(m.C,{onReachBottom:C,children:(0,T.jsxs)("section",{className:O,children:[N&&(0,T.jsx)(d.H,{color:n||null}),E?P:(0,T.jsx)("div",{className:U}),(0,T.jsxs)("div",{className:F,children:[E&&P&&(0,T.jsx)(l.I,{backgroundColor:n}),(0,T.jsx)("div",{className:t()(J,"contentSpacing",{[R]:a}),children:(0,T.jsx)(v,{spec:M,children:(0,T.jsx)(q,{spaces:A,viewName:e.name,viewId:s,isAnonymous:u})})})]})]})})]}):(0,T.jsx)(b.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.page")})})),V=i.memo((function({viewId:e}){const{isAnonymous:s}=(0,a.v9)(_.Gg),{view:n,getNextPage:i}=(0,u.P)(e),r=!n||null===n.content.next,t=e.endsWith("-page")?e:`${e}-page`,o=(0,a.v9)((e=>e.browse.allItemsStyle?.[t]?.color||"")),c=s=>s.viewId===e||"href"in s&&s.href===(0,h.p)(e),l=(0,a.v9)((e=>e?.browse?.browseAll?.items.some(c)||e?.browse?.topGenres?.items.some(c)||!!o));return(0,T.jsx)(Q,{viewData:n,isFullyLoaded:r,viewId:e,backgroundColor:o,isGenre:l,isAnonymous:s,getNextPage:i})}))},47526:(e,s,n)=>{n.d(s,{P:()=>g});var i=n(59496),r=n(9102),t=n(31427),a=n(58943),o=n(55411),c=n(74834),l=n(99302),d=n(92627),u=n(31234),m=n(33660);const g=(e,s)=>{const n=(()=>{const e=(0,c.W6)(m.Xf),s=(0,o.v9)(d.rZ),{overrides:n}=(0,o.v9)(u.Gg),r=l.ag.getLocale(),t=n?.country||s,a=n?.locale||r;return(0,i.useMemo)((()=>{const s=["album","playlist","artist","show","station","episode","merch","artist_concerts"];return e&&s.push("uri_link"),{country:t,locale:a,types:s.join(",")}}),[t,e,a])})(),{data:g,fetchNextPage:x}=(0,r.useInfiniteQuery)(["useView",e,n],(async({pageParam:s})=>void 0===s?async function(e,s){const{body:n}=await a.kO.getView(t.b.getInstance(),e,s);return n}(e,n):async function(e){const s=new URL(e),n=s.origin,i=s.pathname,r=Object.fromEntries(s.searchParams.entries()),{body:o}=await a.TV.getGeneric(t.b.getInstance(),n,i,r,"/useView/fetchNext/{next}");return o}(s)),{cacheTime:s?.cacheTime??18e5,staleTime:s?.staleTime??3e5,getNextPageParam:e=>e.content.next??void 0,getPreviousPageParam:e=>e.content.previous??void 0});return{view:(0,i.useMemo)((()=>g?.pages.reduce(((e,s)=>({...e,content:{...e.content,href:s.content.href,next:s.content.next,offset:s.content.offset,previous:s.content.previous,total:s.content.total,items:e.content.items.concat(s.content.items)}})))),[g?.pages]),getNextPage:x}}}}]);
//# sourceMappingURL=xpui-routes-view.js.map