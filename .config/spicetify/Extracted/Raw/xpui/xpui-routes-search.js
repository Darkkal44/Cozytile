"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219],{8589:(e,s,t)=>{t.d(s,{o:()=>d});var a=t(59496),r=t(99302),i=t(66097),n=t(6721),l=t(29328),o=t(57525),c=t(72390),u=t(4637);const d=a.memo((function({uri:e}){const{spec:s}=(0,l.T)(e);return(0,u.jsx)(n.ZP,{value:"generic",children:(0,u.jsx)(i.v,{children:(0,u.jsx)(o.q,{divider:"before",children:(0,u.jsx)(c.Jx,{spec:s,uri:e,displayText:r.ag.get("context-menu.copy-generic-link")})})})})}))},10894:(e,s,t)=>{t.d(s,{Pd:()=>n,Wm:()=>i,i9:()=>r});var a=t(99302);const r=["artists","albums","episodes","genres","playlists","podcasts","audiobooks","tracks","users","topResults","podcastAndEpisodes"],i={artists:()=>a.ag.get("search.title.artists"),albums:()=>a.ag.get("search.title.albums"),playlists:()=>a.ag.get("search.title.playlists"),podcasts:()=>a.ag.get("search.title.shows"),episodes:()=>a.ag.get("search.title.episodes"),audiobooks:()=>a.ag.get("search.title.audiobooks"),users:()=>a.ag.get("search.title.profiles"),genres:()=>a.ag.get("search.title.genres-and-moods"),tracks:()=>a.ag.get("search.title.tracks"),podcastAndEpisodes:()=>a.ag.get("search.title.podcast-and-shows"),topResults:()=>a.ag.get("search.row.top-results")},n=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"]},8667:(e,s,t)=>{t.d(s,{M:()=>w});var a=t(59496),r=t(84875),i=t.n(r),n=t(55411),l=t(13841),o=t(85830),c=t(24768),u=t(51005),d=t(74675),p=t(53037),m=t(91543),h=t(93017),g=t(99302),x=t(42515),y=t(73652),j=t(92499),f=t(89778),v=t(37937);const k="main-topBar-searchBar",C="x-searchInput-searchInputSearchIcon",b="x-searchInput-searchInputInput",S="x-searchInput-searchInputOnSearch",R="x-searchInput-searchInputClearButton",E="x-searchInput-searchInputIconContainer",I="x-searchInput=searchInputClearIcon";var N=t(4637);const w=a.memo((function({isSearchChipsEnabled:e=!1,onSearch:s=!0,onClick:t}){const r=(0,l.TH)(),w=(0,l.s0)(),A=(0,a.useRef)(null),U=(0,a.useRef)(null),F=(0,n.I0)(),[{category:D,query:P},T]=(0,v.l)(),[q,L]=(0,a.useState)(P),M=!!D,_=(0,y.Mi)(),H=r.pathname.startsWith("/recent-searches"),B=M||H,{spec:O,logger:W}=(0,j.fU)(m.createDesktopSearchInputEventFactory,{}),z=(0,o.y1)(((s,t,a)=>{let r;if(a){const{interactionId:e}=W.logInteraction(a);r=e}e?T(s,D,!1,r):T(s,null,t,r),_.current&&(_.current.scrollTop=0)}),200),$=(0,a.useCallback)(((e=!1)=>{A.current!==document.activeElement&&(U.current=document.activeElement,A.current&&A.current.focus()),e&&A.current?.select()}),[]);(0,x.eY)(x.O4.SHOW_SEARCH,(()=>$(!0)));const Z=r.pathname.startsWith("/search");(0,a.useEffect)((()=>{!B&&s&&Z&&(e&&P||$())}),[P,$,r.key,s,Z,B,e]),(0,a.useEffect)((()=>{L(Z?P:"")}),[Z,P]);return(0,N.jsxs)("div",{className:i()(k,{[S]:!s}),children:[(0,N.jsx)("form",{onSubmit:e=>{e.preventDefault(),q&&W.logInteraction(O.keyStrokeSearch());const s=(0,h.EC)(q);if(s?.type===h.JM.AD){const e=(0,h.HB)(s.id);if(s.id===e)return;F((0,f.HI)(s.id))}else s?w(s.toURLPath(!0),{state:{preventMoveFocus:!0}}):q||w("/search",{state:{preventMoveFocus:!0}});q&&_.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search",children:(0,N.jsx)(u.D,{variant:"mesto",as:"input",style:{color:c.Snx},ref:A,className:i()(b),value:q,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const s=e.currentTarget.value,t=O.keyStrokeChangeSearchQuery({searchQueryString:s});L(s),z(s,B,t)},onKeyDown:e=>{if("Escape"===e.key)if(q){const e=O.hitTextClear();L(""),z("",B,e)}else A.current&&A.current.blur(),U.current instanceof HTMLElement&&U.current.focus()},placeholder:s?g.ag.get("search.search-for-label"):g.ag.get("navbar.search"),onFocus:()=>{e||!B&&s||z(q,B,null)},"data-testid":"search-input",onClick:t})}),(0,N.jsxs)("div",{className:E,children:[(0,N.jsx)("span",{className:C,children:(0,N.jsx)(d.j,{className:I,"aria-hidden":!0,iconSize:16})}),q&&(0,N.jsx)("button",{className:R,onClick:()=>{A.current&&A.current.focus();const e=O.hitTextClear();L(""),z("",B,e)},"aria-label":g.ag.get("search.a11y.clear-input"),children:(0,N.jsx)(p.k,{className:I,iconSize:16})})]})]})}))},37937:(e,s,t)=>{t.d(s,{l:()=>l});var a=t(59496),r=t(13841),i=t(10894);const n=e=>i.i9.find((s=>s===e));function l(){const e=(0,r.s0)(),s=(0,r.bS)("/search/:query"),t=(0,r.bS)("/search/:query/:category"),i=(0,a.useCallback)((function(s,t,a,r){const i=r?{interactionId:r,preventMoveFocus:!0}:{preventMoveFocus:!0},n=["/search"];s&&(n.push(encodeURIComponent(s)),t&&n.push(t));const l=n.join("/");e(l,a?{state:i}:{state:i,replace:!0})}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch{return e}}(s?.params.query??t?.params?.query??""),category:n(t?.params.category)},i]}},87830:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ma});var a=t(59496),r=t(84875),i=t.n(r),n=t(55411),l=t(13841),o=t(55530),c=t.n(o),u=t(74834),d=t(17089),p=t(99302),m=t(46301),h=t(12034),g=t(31684),x=t(60817),y=t(61499),j=t(92499),f=t(78159),v=t(12886),k=t(6721),C=t(2817),b=t(4637);const S=()=>{const{searchHistory:e,clearSearchHistory:s}=(0,C.u)();return 0===e.length?null:(0,b.jsx)(f.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:p.ag.get("search.title.recent-searches"),children:e.map(((e,t)=>(0,b.jsx)(k.ZP,{index:t,value:"search-history",children:(0,b.jsx)(v.q,{entity:e,index:t,clearSearchHistory:s})},e.uri)))})};var R=t(3893);const E="search-searchBrowse-SearchBrowse",I=()=>{const{spec:e,UBIFragment:s}=(0,j.fU)(h.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:t,topGenresSpec:r,browseAllSpec:i}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,b.jsxs)("div",{className:E,children:[(0,b.jsx)(s,{spec:t,children:(0,b.jsx)(S,{})}),(0,b.jsx)(g.F,{property:R.Oe6,renderNewExperience:()=>(0,b.jsx)(y.Tn,{browseAllSpec:i}),renderOldExperience:()=>(0,b.jsx)(x.T,{topGenresSpec:r,browseAllSpec:i})})]})};var N=t(41893),w=t(59463),A=t(69074),U=t(91608),F=t(50062),D=t(10894);const P="search-searchCategory-SearchCategory",T="search-searchCategory-container",q="search-searchCategory-wrapper",L="search-searchCategory-categoryGridItem",M=({to:e,title:s,selected:t,onClick:a})=>(0,b.jsx)(U.default,{replace:!0,to:e,tabIndex:-1,onClick:a,className:L,children:(0,b.jsx)(N.A,{selected:t,selectedColorSet:"invertedLight",tabIndex:-1,children:s})}),_=({searchCategories:e,selectedCategory:s,displayChips:t})=>{const a=(0,u.W6)(R.Dzq),{query:r}=(0,F.A)(),{spec:n,logger:l}=(0,j.fU)(w.createDesktopSearchChipsEventFactory,{});if(!r||!t)return null;const o=encodeURIComponent(r);return(0,b.jsx)("div",{className:P,children:(0,b.jsx)("div",{className:i()(T,"contentSpacing"),children:(0,b.jsx)("div",{className:q,children:(0,b.jsxs)(A.l,{children:[!a&&e.length>0&&(0,b.jsx)(M,{to:`spotify:app:search:${o}`,title:p.ag.get("search.title.all"),selected:void 0===s,onClick:()=>{l.logInteraction(n.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}},"all"),e.map(((e,t)=>{const a=D.Wm[e]?.();return(0,b.jsx)(M,{to:`spotify:app:search:${o}:${e}`,title:a,selected:s===e,onClick:()=>{l.logInteraction(n.chipFactory({identifier:e,position:t+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}},e)}))]})})})})};var H=t(85097),B=t(74839),O=t(59175),W=t(54067),z=t(55993),$=t(60163);const Z={[W.xN.Podcasts]:["podcasts","podcastAndEpisodes"],[W.xN.Episodes]:["episodes","podcastAndEpisodes"],[W.xN.TopResults]:["topResults","topResults"],[W.xN.Artists]:["artists","artists"],[W.xN.Albums]:["albums","albums"],[W.xN.Playlists]:["playlists","playlists"],[W.xN.Tracks]:["tracks","tracks"],[W.xN.Audiobooks]:["audiobooks","audiobooks"],[W.xN.Genres]:["genres","genres"],[W.xN.Users]:["users","users"]};var G=t(72484),Q=t(18384),X=t(31427),K=t(92454),V=t(4658);const Y={albums:d.Wg.SEARCH_ALBUMS,artists:d.Wg.SEARCH_ARTISTS,episodes:d.Wg.SEARCH_EPISODES,genres:d.Wg.SEARCH_GENRES,playlists:d.Wg.SEARCH_PLAYLISTS,podcasts:d.Wg.SEARCH_SHOWS,audiobooks:d.Wg.SEARCH_AUDIOBOOKS,tracks:d.Wg.SEARCH_SONGS,users:d.Wg.SEARCH_PROFILES,podcastAndEpisodes:d.Wg.SEARCH_PODCASTS_AND_EPISODES,topResults:d.Wg.SEARCH};function J({children:e}){const{query:s="",category:t=""}=(0,l.UO)();return(0,b.jsx)(V.K,{pageId:Y[t],entityUri:`spotify:app:search:${s}:${t}`,children:e})}function ee({children:e}){const{query:s}=(0,l.UO)();return(0,b.jsx)(V.K,{pageId:d.Wg.SEARCH,entityUri:`spotify:app:search:${s}`,children:e})}var se=t(58475),te=t(24465),ae=t(93017),re=t(78475),ie=t(92375),ne=t(51005),le=t(76285),oe=t(4663);const ce="hngqMWKjlLOEcuxpoHz9",ue="WjLSNZPxuT0Zuw42kxSM",de="zFOvsuNQpwehjH2VoiLL",pe="zeGt0Z2HCYRvd6ziu_t9",me=({forChip:e})=>{const{query:s,serpId:t}=(0,F.A)(),a=!(0,G.k)(),r=`/search/${s}`,i=(0,ae.ix)(s).toURI(),{spec:n,logger:l}=(0,j.fU)(oe.createDesktopSearchEmptyResultsEventFactory,{data:{uri:i,reason:t}}),o=(0,j.Wi)(n);return(0,b.jsxs)("div",{className:ce,"aria-live":"polite",ref:o,children:[(0,b.jsx)(ne.D,{as:"h1",variant:"canon",className:ue,children:e?p.ag.get("search.empty-results-title-for-chip",s,e):p.ag.get("search.empty-results-title",s)}),(0,b.jsx)("p",{className:de,children:a?p.ag.get("web-player.search-modal.offline"):p.ag.get("search.empty-results-text")}),e&&(0,b.jsx)(ie.rU,{to:r,children:(0,b.jsx)(le.D,{colorSet:"invertedLight",className:pe,onClick:()=>{l.logInteraction(n.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:p.ag.get("search.see-all")})})]})};var he=t(92700);const ge={results:null,isError:!1,isFetchMoreError:!1},xe=(e,s)=>{const t=(0,he.t)(),r=(0,a.useRef)(null),i=(0,a.useRef)(0),[n,l]=(0,a.useState)(ge),o=(0,a.useCallback)((async(a=!1)=>{if(!t())return;a&&(i.current=0,r.current=null);let n=e;if(null!==r.current){if(i.current>=r.current)return;i.current+n>r.current&&(n=r.current-i.current)}try{const e=await s(i.current,n);i.current+=n,r.current=e.totalCount||0,t()&&l((s=>({isError:!1,isFetchMoreError:!1,results:(a||null===s.results?[]:s.results).concat(e.items)})))}catch(e){t()&&l((e=>{const s=null===e.results||a;return{results:a?[]:e.results,isError:s,isFetchMoreError:!s}}))}}),[e,s,t]);return(0,a.useEffect)((()=>{o(!0)}),[o]),{results:n.results,isError:n.isError,fetchData:o,totalCountRef:r}};var ye=t(79939),je=t(98039),fe=t(8327),ve=t(74272),ke=t(27601),Ce=t(47570);const be=a.memo((function({uri:e,size:s=ve.q.md,className:t,onClick:r,showUpsell:i}){const[n,l]=(0,ke.Z)(e),o=(0,Ce.o)(),c=(0,a.useCallback)((()=>{o({targetUri:e,intent:"add-to-library",type:"click"}),l(!0)}),[o,e,l]);return(0,b.jsx)(ve.o,{className:t,isFollowing:n,onFollow:c,onClick:r,uri:e,size:s,showUpsell:i})})),Se="RTP39YFgFAoVSlly6vCF",Re="QT1jLaHHvO5g2YQor2Fw",Ee="wArYyZVjFviopRvRFV8t",Ie="kRDD8AcqeOf5UDjOSQ8j",Ne="XN4TCZATPrKkEMngUtFc",we="VYaCpehPPhmTYPRxMBub",Ae="abMqJCpsuShBo0DaZ7IY",Ue="ON88h0KYGqXMdOfsqot8",Fe="BHFMWOZUKxElyq1Ffc_S",De="EyH4QLenIbFw0x8r83eK",Pe="JA9jP30dm3GJikfs7vBn",Te="xKl_2100SG4svBvzZ8Xv",qe="leel3U31UlOaYhKp6FgQ",Le="FxqpfDsISPKNu1XFExOg",Me="kE234isNxJ9XiTT8QoJL",_e="KcOp4A5HBQ4EPH0IDRxg",He="oODk_3Glvh7wotUlk4ov";var Be=t(87664);const Oe=({uri:e,spec:s})=>{const t=(0,j.$P)(),r=(0,a.useCallback)(((a,r)=>{(0,Be.l7)(r,s.downloadButtonFactory(),t,e)}),[t,s,e]);return(0,b.jsx)(be,{className:Ie,uri:e,size:ve.q.xs,showUpsell:!1,onClick:r})};var We=t(64283),ze=t(26960);const $e=({shape:e=We.K.ROUNDED_CORNERS,type:s,name:t,images:a})=>(0,b.jsx)(We.O,{shape:e,size:ze.m$.SIZE_64,images:a,type:s,title:t});var Ze=t(67866),Ge=t(41432);const Qe=(0,a.createContext)((()=>{})),Xe=({menu:e,name:s,spec:t})=>{const r=(0,j.$P)(),i=(0,a.useContext)(Qe),n=(0,a.useCallback)((()=>{r.logInteraction(t.contextButtonFactory().hitUiReveal()),i(!0)}),[r,i,t]),l=(0,a.useCallback)((()=>{i(!1)}),[i]);return(0,b.jsx)(Ge.ClickToggleContextMenu,{menu:e,onShow:n,onHide:l,children:(0,b.jsx)(Ze.MoreButton,{className:Ne,size:Ze.q.sm,label:p.ag.get("more.label.context",s)})})};var Ke=t(12929);const Ve=({name:e,uri:s,spec:t})=>{const r=(0,j.$P)(),i=(0,a.useCallback)((()=>{r.logInteraction(t.titleLinkFactory({uri:s}).hitUiNavigate({destination:s}))}),[r,t,s]);return(0,b.jsx)(Ke.ws,{label:e,showDelay:Ke.gQ,children:(0,b.jsx)(U.default,{to:s,className:Fe,onClick:i,children:(0,b.jsx)(ne.D,{variant:"balladBold",semanticColor:"textBase",className:De,children:e})})})};var Ye=t(34703),Je=t(85830),es=t(37258),ss=t(78560),ts=t(81767),as=t(82538),rs=t(17246);const is=a.forwardRef((function({children:e,isLocked:s=!1,uri:t,playAriaLabel:r,spec:n},l){const[o,c]=(0,a.useState)(!1),u=(0,j.$P)(),{isPlaying:d,isActive:p,togglePlay:m}=(0,rs.n)({uri:t},{featureIdentifier:"search"}),h=(0,Je.y1)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),s)u.logInteraction(n.playbackButtonFactory().hitShowPaywall({paywalledItem:t}));else{const e=(0,Be.aK)({isPlaying:d,isActive:p,spec:n.playbackButtonFactory(),logger:u,uri:t});m({loggingParams:e})}}),ts.s_,{leading:!0,trailing:!1});(0,a.useEffect)((()=>{const e=()=>{c(!0)},s=()=>{c(!1)};return d&&(c(document.hasFocus()),window.addEventListener("focus",e),window.addEventListener("blur",s)),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",s)}}),[d]);const g=!(0,as.T)()&&o;return(0,b.jsxs)("div",{className:i()(Pe),children:[d?(0,b.jsx)("img",{className:Ae,width:"14",height:"14",alt:"",src:(0,es.g)(g?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")}):e,(0,b.jsx)(ss.I,{className:we,iconClassName:_e,onClick:h,isPlaying:d,isLocked:s,playAriaLabel:r,ref:l})]})}));var ns=t(70657);const ls="kwJGggri7IZMFvQEClUf",os="yt0QcQy0t7LfbeVaEJG_",cs="WHMDRepGVQXXrTx3838g",us="wLoqasagmgNF8ULGMhil",ds="cpC_03FZN3i93V8j3g0l",ps="S7CXd4i9huhWL_kPV_e3",ms="c85eTWJAYaGjCiwH1WDu",hs="cTTgGuDbNSWllHjVqiUx",gs=({className:e,leading:s,media:t,pretitle:a,title:r,subtitle:n,body:l,footer:o,trailing:c,onContextMenu:u,onTouchStart:d,onTouchEnd:p,onDragStart:m,onDoubleClick:h})=>{const g=(0,ns.jh)();return(0,b.jsxs)("div",{className:i()(e,ls),onContextMenu:u,onTouchStart:d,onTouchEnd:p,draggable:!0,onDragStart:m,onDoubleClick:h,children:[s?(0,b.jsx)("div",{className:os,children:s}):null,t?(0,b.jsx)("div",{className:cs,children:t}):null,(0,b.jsxs)("div",{className:us,children:[a?(0,b.jsx)("div",{children:a}):null,r?(0,b.jsx)("div",{className:ms,children:r}):null,n?(0,b.jsx)("div",{className:hs,children:n}):null,l?(0,b.jsx)("div",{children:l}):null,o?(0,b.jsx)("div",{children:o}):null]}),c?(0,b.jsx)("div",{className:i()(ds,{[ps]:g===ns.Uo.MEDIUM}),children:c}):null]})};var xs=t(38941);const ys=e=>void 0!==e;const js=({uri:e,destinationUri:s=e,name:t,createdBy:r,menu:n,media:l,leading:o,title:c,subtitle:u,body:d,trailing:p,onClick:m,spec:h})=>{const{isActive:g}=(0,Ye.cR)(e),x=(0,j.$P)(),y=(0,a.useCallback)((()=>{x.logInteraction(h.secondaryHitUiReveal())}),[x,h]),f=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(x.logInteraction(h.hitUiNavigate({destination:s})),m(e))}),[x,m,h,s]),v=function(e,s){if(e!==s)return`?highlight=${e}`}(e,s),k=(0,j.Wi)(h),C=((e,s,t)=>{const r=(0,xs.O)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const i=[s,t].filter(ys).join(" • ");r(a,[e],i,void 0,void 0)}),[r,t,s,e])})(e,t,r),[S,R]=(0,a.useState)(!1);return(0,b.jsx)(Qe.Provider,{value:R,children:(0,b.jsx)(Ge._,{menu:n,onShow:y,children:(0,b.jsx)(U.default,{to:s,search:v,tabIndex:-1,onClick:f,className:Se,"data-context-menu-open":S.toString(),ref:k,children:(0,b.jsx)(gs,{leading:o||!0,title:c,subtitle:u,body:d,trailing:p,media:l,className:i()(Re,{[Ue]:g}),onDragStart:C})})})})};var fs=t(69617),vs=t(51470);const ks=({uri:e,type:s,spec:t})=>{const r=(0,j.$P)(),i=(0,a.useCallback)((s=>{const a=s?t.heartButtonFactory().hitLike({itemToBeLiked:e}):t.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});r.logInteraction(a)}),[t,r,e]);return["episode","audiobook"].includes(s)?(0,b.jsx)(fs.w,{uri:e,className:Ee,onClick:i}):(0,b.jsx)(vs.B,{uri:e,className:Ee,onClick:i})};var Cs=t(34463),bs=t(66137),Ss=t(53103),Rs=t(48443),Es=t(25702);const Is=({children:e,uri:s,name:t,index:r,menu:i,spec:n})=>{const l=(0,xs.O)([s],t),o=(0,j.$P)(),c=(0,a.useCallback)((()=>{const e=n.subtitleLinkFactory({uri:s,position:r}).hitUiNavigate({destination:s});o.logInteraction(e)}),[r,o,n,s]);return(0,b.jsx)(Es._,{menu:i,children:(0,b.jsx)(Ke.ws,{label:t,showDelay:Ke.gQ,children:(0,b.jsx)(U.default,{draggable:!0,to:s,onDragStart:l,dir:"auto",onClick:c,children:e})})})},Ns=({artists:e,spec:s})=>e?(0,b.jsx)(b.Fragment,{children:e.map((({uri:e,name:t},a)=>[a>0&&p.ag.getSeparator(),(0,b.jsx)(Is,{name:t,uri:e,index:a,menu:(0,b.jsx)(Cs.m,{uri:e}),spec:s,children:t},e)]))}):null,ws=({topics:e=[],spec:s})=>0===e.length?null:(0,b.jsx)(b.Fragment,{children:e.filter(Rs.J).map((({uri:e,title:t},a)=>[a>0&&p.ag.getSeparator(),(0,b.jsx)(Is,{name:t,uri:e,index:a,spec:s,children:t},e)]))}),As=({show:e,spec:s})=>(0,b.jsx)(Is,{name:e.name,uri:e.uri,index:0,menu:(0,b.jsx)(bs.M,{uri:e.uri}),spec:s,children:e.name}),Us=({uri:e,name:s,spec:t})=>(0,b.jsx)(Is,{name:s,uri:e,index:0,menu:(0,b.jsx)(Ss.I,{uri:e}),spec:t,children:s}),Fs=a.memo((function({album:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o,year:c,artists:u}=e,d=u[0].name,{spec:m}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),{isPlaying:h}=(0,Ye.cR)(i),g=(0,b.jsx)(fe.Y,{uri:i});return(0,b.jsx)(js,{spec:m,menu:g,uri:i,name:l,createdBy:u.map((e=>e.name)).join(p.ag.getSeparator()),onClick:s,media:(0,b.jsx)($e,{type:n,name:l,images:o}),leading:(0,b.jsx)(is,{isLocked:!1,uri:i,spec:m,playAriaLabel:h?p.ag.get("pause"):p.ag.get("tracklist.a11y.play",l,d)}),title:(0,b.jsx)(Ve,{name:l,uri:i,spec:m}),subtitle:(0,b.jsxs)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[a&&(0,b.jsx)(ne.D,{className:Me,children:p.ag.get("card.tag.album")}),(0,b.jsx)(ne.D,{className:Me,children:(0,b.jsx)(Ns,{artists:u,spec:m})})]}),body:(0,b.jsx)(ne.D,{variant:"mesto",semanticColor:"textSubdued",children:c}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Oe,{uri:i,spec:m}),(0,b.jsx)(ks,{uri:i,type:"album",spec:m}),(0,b.jsx)(Xe,{menu:g,name:l,spec:m})]})})}));var Ds=t(45703);const Ps=a.memo((function({artist:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o,verified:c}=e,{spec:u}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),{isPlaying:d}=(0,Ye.cR)(i),m=(0,b.jsx)(Cs.m,{uri:i});return(0,b.jsx)(js,{spec:u,menu:m,uri:i,name:l,onClick:s,media:(0,b.jsx)($e,{type:n,name:l,images:o}),leading:(0,b.jsx)(is,{isLocked:!1,uri:i,spec:u,playAriaLabel:d?p.ag.get("playlist.a11y.play",l):p.ag.get("pause")}),title:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Ve,{name:l,uri:i,spec:u}),c&&(0,b.jsx)(Ds.S,{iconSize:16})]}),subtitle:a&&(0,b.jsx)(ne.D,{variant:"mesto",semanticColor:"textSubdued",children:p.ag.get("card.tag.artist")}),trailing:(0,b.jsx)(Xe,{menu:m,name:l,spec:u})})}));var Ts=t(39074),qs=t(9024);const Ls=a.memo((function({book:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o,authorName:c,publishDate:u,topics:d}=e,{spec:m}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),h=(0,b.jsx)(Ts.X,{uri:i}),g=d&&d.length>0;return(0,b.jsx)(js,{spec:m,menu:h,uri:i,name:l,onClick:s,media:(0,b.jsx)($e,{type:n,name:l,images:o}),title:(0,b.jsx)(Ve,{name:l,uri:i,spec:m}),subtitle:(0,b.jsxs)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[a&&(0,b.jsx)(ne.D,{className:Me,children:p.ag.get("search.row.subtitle")}),(0,b.jsx)(Ke.ws,{label:c,showDelay:Ke.gQ,children:(0,b.jsx)(ne.D,{className:Me,children:c})})]}),body:(0,b.jsxs)(b.Fragment,{children:[u&&(0,b.jsx)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:Me,children:(0,qs.rL)((0,qs.RX)(u.toISOString()))}),g&&(0,b.jsx)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:Me,children:(0,b.jsx)(ws,{topics:d,spec:m})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ks,{uri:i,type:"audiobook",spec:m}),(0,b.jsx)(Xe,{menu:h,name:l,spec:m})]})})}));var Ms=t(47831),_s=t(86454),Hs=t(49502),Bs=t(65669),Os=t(90191),Ws=t(39917);const zs=a.memo((function({episode:e,onClick:s,index:t,withEntityTag:r=!1}){const{requestId:n,uri:l,type:o,name:c,images:u,show:d,release:m,duration:h,isExplicit:g,is19PlusOnly:x,timeLeft:y}=e,{logger:f,spec:v}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:n??"",uri:l}}),{isPlaying:k}=(0,Ye.cR)(l),C=(0,a.useCallback)(((e,s)=>{(0,Be.l7)(s,v.downloadButtonFactory(),f,l)}),[f,v,l]),S=(0,b.jsx)(Hs.k,{uri:l});return(0,b.jsx)(js,{spec:v,menu:S,uri:l,name:c,createdBy:d?.name||void 0,onClick:s,media:(0,b.jsx)($e,{type:o,name:c,images:u}),leading:(0,b.jsx)(is,{isLocked:!1,uri:l,spec:v,playAriaLabel:k?p.ag.get("pause"):d?p.ag.get("tracklist.a11y.play",c,d.publisher):p.ag.get("playlist.a11y.play",c)}),title:(0,b.jsx)(Ve,{name:c,uri:l,spec:v}),subtitle:(0,b.jsxs)(b.Fragment,{children:[g&&(0,b.jsx)(Bs.N,{}),x&&(0,b.jsx)(Os.X,{size:16}),(0,b.jsxs)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[r&&(0,b.jsx)(ne.D,{children:p.ag.get("card.tag.episode")}),d&&(0,b.jsx)(ne.D,{className:Me,children:(0,b.jsx)(As,{show:d,spec:v})})]})]}),body:(0,b.jsxs)(b.Fragment,{children:[m.date&&(0,b.jsx)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:Me,children:(0,qs.rL)((0,qs.RX)(m.date))}),(0,b.jsx)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:i()(Me,Te),children:y.milliseconds>0?(0,b.jsx)(Ws.n,{durationMs:h.milliseconds}):(0,b.jsxs)(ne.D,{className:qe,children:[p.ag.get("episode.played"),(0,b.jsx)(Ms.N,{iconSize:16,className:Le,"aria-hidden":"true"})]})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_s.p,{className:Ie,uri:l,size:_s.q.xs,showUpsell:!1,onClick:C}),(0,b.jsx)(ks,{uri:l,type:"episode",spec:v}),(0,b.jsx)(Xe,{menu:S,name:c,spec:v})]})})}));var $s=t(8589);const Zs=a.memo((function({genre:e,onClick:s,index:t}){const{requestId:a,uri:r,type:i,name:n,images:l}=e,{spec:o}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:a??"",uri:r}});return(0,b.jsx)(js,{spec:o,menu:(0,b.jsx)($s.o,{uri:r}),uri:r,name:n,onClick:s,media:(0,b.jsx)($e,{type:i,name:n,images:l}),title:(0,b.jsx)(Ve,{name:n,uri:r,spec:o})})}));var Gs=t(94998);const Qs=a.memo((function({playlist:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o,owner:c}=e,{spec:u}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),{isPlaying:d}=(0,Ye.cR)(i),m=c.displayName?p.ag.get("tracklist.a11y.play",l,c.displayName):p.ag.get("play"),h=(0,b.jsx)(Gs.X,{uri:i});return(0,b.jsx)(js,{spec:u,menu:h,uri:i,name:l,createdBy:c.displayName??void 0,onClick:s,media:(0,b.jsx)($e,{type:n,name:l,images:o}),leading:(0,b.jsx)(is,{isLocked:!1,uri:i,spec:u,playAriaLabel:d?p.ag.get("pause"):m}),title:(0,b.jsx)(Ve,{name:l,uri:i,spec:u}),subtitle:(0,b.jsxs)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[a&&(0,b.jsx)(ne.D,{className:Me,children:p.ag.get("card.tag.playlist")}),c.displayName&&(0,b.jsx)(ne.D,{className:Me,children:(0,b.jsx)(Us,{uri:c.uri,name:p.ag.get("search.playlist-by",c.displayName),spec:u})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Oe,{uri:i,spec:u}),(0,b.jsx)(ks,{uri:i,type:"playlist",spec:u}),(0,b.jsx)(Xe,{menu:h,name:l,spec:u})]})})})),Xs=a.memo((function({show:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:n,type:l,name:o,images:c,publisher:u,topics:d}=e,{spec:m}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:n}}),h=(0,b.jsx)(bs.M,{uri:n});return(0,b.jsx)(js,{spec:m,menu:h,uri:n,name:o,onClick:s,media:(0,b.jsx)($e,{type:l,name:o,images:c}),title:(0,b.jsx)(Ve,{name:o,uri:n,spec:m}),subtitle:(0,b.jsxs)(ne.D,{variant:"mesto",semanticColor:"textSubdued",children:[(0,b.jsxs)("div",{children:[a&&(0,b.jsx)(ne.D,{className:Me,children:p.ag.get("card.tag.show")}),(0,b.jsx)(ne.D,{className:i()(Me),children:u})]}),(0,b.jsx)("div",{children:(0,b.jsx)(ne.D,{className:i()(Me,He),children:(0,b.jsx)(ws,{topics:d,spec:m})})})]}),trailing:(0,b.jsx)(Xe,{menu:h,name:o,spec:m})})}));var Ks=t(99767);const Vs=a.memo((function({track:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,artists:o,album:c,isExplicit:u,is19PlusOnly:d}=e,m=o[0].name,{spec:h}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),{isPlaying:g}=(0,Ye.cR)(i),x=(0,b.jsx)(Ks.$,{uri:i});return(0,b.jsx)(js,{spec:h,uri:i,destinationUri:c?.uri||void 0,menu:x,name:l,createdBy:o.map((e=>e.name)).join(p.ag.getSeparator()),onClick:s,media:(0,b.jsx)($e,{type:n,name:l,images:c?.images||[]}),leading:(0,b.jsx)(is,{isLocked:!1,uri:i,spec:h,playAriaLabel:g?p.ag.get("pause"):p.ag.get("tracklist.a11y.play",l,m)}),title:(0,b.jsx)(Ve,{name:l,uri:i,spec:h}),subtitle:(0,b.jsxs)(b.Fragment,{children:[u&&(0,b.jsx)(Bs.N,{}),d&&(0,b.jsx)(Os.X,{size:16}),(0,b.jsxs)(ne.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[a&&(0,b.jsx)(ne.D,{children:p.ag.get("card.tag.track")}),(0,b.jsx)(ne.D,{className:Me,children:(0,b.jsx)(Ns,{artists:o,spec:h})})]})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ks,{uri:i,type:"track",spec:h}),(0,b.jsx)(Xe,{menu:x,name:l,spec:h})]})})})),Ys=a.memo((function({user:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o}=e,{spec:c}=(0,j.fU)(je.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),u=(0,b.jsx)(Ss.I,{uri:i});return(0,b.jsx)(js,{spec:c,menu:u,uri:i,name:l,onClick:s,media:(0,b.jsx)($e,{type:n,name:l,images:o,shape:We.K.CIRCLE}),title:(0,b.jsx)(Ve,{name:l,uri:i,spec:c}),subtitle:a&&(0,b.jsx)(ne.D,{variant:"mesto",semanticColor:"textSubdued",children:p.ag.get("card.tag.profile")}),trailing:(0,b.jsx)(Xe,{menu:u,name:l,spec:c})})})),Js=({entity:e,index:s,withEntityTag:t})=>{const{onAddToHistory:r}=(0,F.A)(),i=(0,a.useCallback)((()=>{r(e)}),[e,r]);switch(e.type){case z.p.ALBUM:return(0,b.jsx)(Fs,{album:e,onClick:i,index:s,withEntityTag:t});case z.p.ARTIST:return(0,b.jsx)(Ps,{artist:e,onClick:i,index:s,withEntityTag:t});case z.p.AUDIOBOOK:return(0,b.jsx)(Ls,{book:e,onClick:i,index:s,withEntityTag:t});case z.p.EPISODE:return(0,b.jsx)(zs,{episode:e,onClick:i,index:s,withEntityTag:t});case z.p.GENRE:return(0,b.jsx)(Zs,{genre:e,onClick:i,index:s});case z.p.PLAYLIST:return(0,b.jsx)(Qs,{playlist:e,onClick:i,index:s,withEntityTag:t});case z.p.USER:return(0,b.jsx)(Ys,{user:e,onClick:i,index:s,withEntityTag:t});case z.p.SHOW:return(0,b.jsx)(Xs,{show:e,onClick:i,index:s,withEntityTag:t});case z.p.TRACK:return(0,b.jsx)(Vs,{track:e,onClick:i,index:s,withEntityTag:t});default:return(0,ye._)(e),null}};var et=t(78729),st=t(38510);const tt="FSAE0ABtUCeNRJckpcCH",at="H2PDjUgJNBIH5eWg59M0",rt="vRlEuZATPhZt2l04RVIw",it="Adlh7XTc3j3pXM3jGgr8",nt=({index:e,item:s})=>{const{episode:t,show:a}=s,{usePlayContextItem:r}=(0,rs.n)({uri:s.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,b.jsxs)("div",{className:it,children:[(0,b.jsx)(st.V,{index:e,episode:{...t,requestId:s.requestId},showMetadata:a,usePlayContextItem:r}),(0,b.jsx)("hr",{className:rt,"aria-hidden":!0})]})},lt=({showTitle:e=!0,displayEmptyPageOnEmptyResults:s=!0,displayError:t=!0,enableInfiniteScroll:a=!1,fetchData:r,totalCountRef:n,items:l,isError:o,isSearchV3Enabled:c})=>{const{query:u,serpId:d}=(0,F.A)(),p=(0,ae.ix)(u).toURI(),{ref:m,breakpoint:h}=(0,ns.Db)({[ns.Uo.MEDIUM]:0,[ns.Uo.LARGE]:600}),g=(0,j.$P)(),x=`spotify:app:search:${encodeURIComponent(u)}:${Ut}`,{spec:y,UBIFragment:f}=(0,j.fU)(te.m,{data:{uri:p,reason:d}});return o?t?(0,b.jsx)(se.p,{}):null:0===n.current?s?(0,b.jsx)(f,{spec:y.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:D.Wm.episodes()})}):null:(0,b.jsxs)(ns.ZU.Provider,{value:h,children:[l&&e&&(0,b.jsx)(re.r,{title:D.Wm.episodes(),seeAllUri:x,onClickTitle:()=>{y&&g.logInteraction(y.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:x}))},onClickSeeAll:()=>{y&&g.logInteraction(y.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:x}))},hasMoreElements:!a&&l.length<(n.current||0)}),(0,b.jsx)("div",{ref:m,className:at,children:l&&(0,b.jsx)(et.C,{triggerOnInitialLoad:!1,className:i()({[tt]:c}),onReachBottom:()=>{a&&r()},children:l})})]})},ot=e=>{const{query:s,api:t}=(0,F.A)(),{results:r,isError:i,fetchData:n,totalCountRef:l}=xe(30,(0,a.useCallback)(((e,a)=>t.getFullEpisodes(s,e,a)),[t,s]));return(0,b.jsx)(lt,{...e,fetchData:n,totalCountRef:l,items:r?.map(((e,s)=>(0,b.jsx)(nt,{item:e,index:s},s))),isError:i})},ct=e=>{const{query:s,api:t}=(0,F.A)(),{results:r,isError:i,fetchData:n,totalCountRef:l}=xe(30,(0,a.useCallback)(((e,a)=>t.getSearchCategoryResults(s,"episodes",!1,e,a)),[t,s]));return(0,b.jsx)(lt,{...e,fetchData:n,totalCountRef:l,items:r?.map(((e,s)=>(0,b.jsx)(Js,{entity:e,index:s},s))),isError:i,isSearchV3Enabled:!0})},ut=e=>(0,u.W6)(R.Dzq)?(0,b.jsx)(ct,{...e}):(0,b.jsx)(ot,{...e});var dt=t(26352);const pt=e=>{const{title:s,category:t,query:a,results:r,onAddToHistory:i,position:n,showSeeAll:l}=e;if(!r)return null;const{items:o,totalCount:c}=r;return o&&0!==o.length?(0,b.jsx)(f.q,{index:n,id:t,total:c||0,title:s,testId:`${t}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${t}`,showSeeAll:l,children:o.map(((e,s)=>(0,b.jsx)(k.ZP,{value:t,index:s,children:(0,b.jsx)(dt.h,{onClick:()=>i(e),entity:e,index:s})},e.uri)))}):null},mt="pE9ccpPiPFWfTWfDdKT_",ht=({results:e})=>{const{query:s,serpId:t,onAddToHistory:a}=(0,F.A)(),r=(0,ae.ix)(s).toURI(),{spec:i,UBIFragment:n}=(0,j.fU)(te.m,{data:{uri:r,reason:t}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,b.jsx)(n,{spec:i.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:D.Wm.podcastAndEpisodes()})}):(0,b.jsx)(n,{spec:i,children:(0,b.jsxs)("div",{className:mt,children:[0!==e?.podcasts.totalCount&&(0,b.jsx)("div",{children:(0,b.jsx)(pt,{position:0,category:"podcasts",title:D.Wm.podcastAndEpisodes(),query:s,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,b.jsx)("div",{children:(0,b.jsx)(ut,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var gt=t(91284);const xt="bCoyoXohuLs0f6urF2PD",yt="EF2m35WFubo6yUwP04MQ",jt=({displayChips:e,category:s})=>{const{query:t,api:r,serpId:n,onAddToHistory:l}=(0,F.A)(),{results:o,isError:c,fetchData:u,totalCountRef:d}=xe(30,(0,a.useCallback)(((e,a)=>r.getSearchCategoryResults(t,s,!0,e,a)),[r,s,t])),p=(0,a.useCallback)(((e,s)=>(0,b.jsx)(k.ZP,{value:"card",index:s,children:(0,b.jsx)(dt.h,{entity:e,onClick:()=>l(e),testId:`search-category-card-${s}`,index:s})},`${e.uri}-${s}`)),[l]),m=(0,ae.ix)(t).toURI(),{spec:h,UBIFragment:g}=(0,j.fU)(gt.N,{data:{uri:m,identifier:s,reason:n}}),x=(0,a.useMemo)((()=>h.cardsFactory()),[h]),y=(0,a.useMemo)((()=>h.emptyResultsFactory()),[h]);return c?(0,b.jsx)(se.p,{}):0===d.current?(0,b.jsx)(g,{spec:y,children:(0,b.jsx)(me,{forChip:D.Wm[s]()})}):(0,b.jsx)(g,{spec:x,children:(0,b.jsx)("div",{className:i()(xt,{[yt]:e}),children:o&&(0,b.jsx)(et.C,{onReachBottom:u,triggerOnInitialLoad:!1,children:(0,b.jsx)(Q.T,{render:()=>o.map(((e,s)=>p(e,s)))})})})})};var ft=t(69710),vt=t(75815),kt=t(22189),Ct=t(95543),bt=t(76933);const St=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:s,api:t,serpId:r}=(0,F.A)(),{results:i,isError:n,fetchData:l,totalCountRef:o}=xe(e,(0,a.useCallback)(((e,a)=>t.getSearchCategoryResults(s,"tracks",!1,e,a)),[t,s])),c=(0,a.useCallback)(((e,s)=>{const t=(0,Ct.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,b.jsx)(bt.e9,{index:s,uri:(0,kt.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:t?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},s+e.uri)}),[]),u=(0,a.useMemo)((()=>[bt.QD.INDEX,bt.QD.TITLE,bt.QD.ALBUM,bt.QD.DURATION]),[]),d=(0,a.useCallback)((e=>e.uri),[]),m=(0,ae.ix)(s).toURI(),{spec:h,UBIFragment:g}=(0,j.fU)(ft.h,{data:{uri:m,reason:r}}),x=(0,a.useMemo)((()=>h.tracksFactory()),[h]),y=p.ag.get("search.showing-category-query-songs",s);if(n)return(0,b.jsx)(se.p,{});if(0===o.current)return(0,b.jsx)(g,{spec:h.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:D.Wm.podcastAndEpisodes()})});const f=vt.K1+48;return(0,b.jsx)(g,{spec:x,children:(0,b.jsx)(k.ZP,{value:"search-results-tracklist",children:(0,b.jsx)("div",{children:i&&(0,b.jsx)(et.C,{triggerOnInitialLoad:!1,onReachBottom:l,children:(0,b.jsx)(bt.Pv,{ariaLabel:y,hasHeaderRow:!0,columns:u,renderRow:c,resolveUri:d,nrTracks:i.length,headerTop:f,tracks:i},s)})})})})},Rt="hciep85bysUuJqNoK7uw",Et="Xa3KEcm2U_GOL2KMSoHw",It="KjXzXFYQr6Wp2QlxPUAY",Nt=({category:e})=>{const{query:s,api:t,serpId:r}=(0,F.A)(),{results:n,isError:l,fetchData:o,totalCountRef:c}=xe(50,(0,a.useCallback)(((a,r)=>t.getSearchCategoryResults(s,e,!0,a,r)),[t,e,s])),u=(0,ae.ix)(s).toURI(),{spec:d,UBIFragment:p}=(0,j.fU)(gt.N,{data:{uri:u,identifier:e,reason:r}}),{ref:m,breakpoint:h}=(0,ns.Db)({[ns.Uo.MEDIUM]:0,[ns.Uo.LARGE]:600}),g=(0,a.useMemo)((()=>d.cardsFactory()),[d]);if(l)return(0,b.jsx)(se.p,{});if(0===c.current)return(0,b.jsx)(p,{spec:d.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:D.Wm[e]()})});const x="episodes"===e||"podcasts"===e,y="topResults"===e;return(0,b.jsx)(p,{spec:g,children:(0,b.jsx)(ns.ZU.Provider,{value:h,children:(0,b.jsx)("div",{ref:m,className:i()(Rt,{[It]:x}),children:n&&(0,b.jsx)(et.C,{onReachBottom:o,triggerOnInitialLoad:!1,className:Et,children:n.map(((e,s)=>(0,b.jsx)(Js,{entity:e,index:s,withEntityTag:y},e.uri)))})})})})},wt=({results:e,hasResults:s})=>{const{query:t,serpId:r}=(0,F.A)(),i=(0,ae.ix)(t).toURI(),{spec:n,UBIFragment:l}=(0,j.fU)(gt.N,{data:{uri:i,identifier:"topResults",reason:r}}),{ref:o,breakpoint:c}=(0,ns.Db)({[ns.Uo.MEDIUM]:0,[ns.Uo.LARGE]:600}),u=(0,a.useMemo)((()=>n.cardsFactory()),[n]);return e&&s||n.emptyResultsFactory(),(0,b.jsx)(l,{spec:u,children:(0,b.jsx)(ns.ZU.Provider,{value:c,children:(0,b.jsx)("div",{ref:o,className:Rt,children:e&&(0,b.jsx)(et.C,{triggerOnInitialLoad:!1,className:Et,children:e.topResults.items.map(((e,s)=>(0,b.jsx)(Js,{entity:e,index:s,withEntityTag:!0},e.uri)))})})})})},At="podcastAndEpisodes",Ut="episodes",Ft=({results:e,hasResults:s,displayChips:t})=>{const{category:a}=(0,F.A)(),r=(0,u.W6)(R.Dzq);return a?a===At?(0,b.jsx)(ht,{results:e}):r?"topResults"===a?(0,b.jsx)(wt,{results:e,hasResults:s}):(0,b.jsx)(Nt,{category:a}):"tracks"===a?(0,b.jsx)(St,{}):a===Ut?(0,b.jsx)(ut,{enableInfiniteScroll:!0,showTitle:!1}):(0,b.jsx)(jt,{displayChips:t,category:a}):(0,b.jsx)(se.p,{})};var Dt=t(8667),Pt=t(79352),Tt=t(4279);const qt=a.memo((function({tracks:e,query:s}){const t=(0,a.useCallback)(((e,s)=>{const t=(0,Ct.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,b.jsx)(bt.pt,{uri:(0,kt.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:s,imgUrl:t?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},e.uri)}),[]),r=(0,a.useMemo)((()=>[bt.QD.TITLE,bt.QD.DURATION]),[]),i=(0,a.useCallback)((e=>e.uri),[]);return e&&(0,b.jsx)(k.ZP,{value:"search-results-tracklist",children:(0,b.jsx)(bt.Pv,{ariaLabel:p.ag.get("search.a11y.songs-search-results"),renderRow:t,rowPlaceholder:bt.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:i,columns:r},s)})}),((e,s)=>e.tracks===s.tracks));var Lt=t(78817);const Mt="search-searchResult-tracklistHeader",_t="search-searchResult-tracklistHeaderWrapper",Ht="search-searchResult-tracklistHeaderText",Bt="VL6wjp4Br_D3FEWrUGGR",Ot="search-searchResult-tracklistContainer",Wt="search-searchResult-tracklist",zt=({tracks:e,query:s,className:t,showSeeAll:r=!0,spec:n})=>{const l=(0,j.$P)(),o=(0,a.useCallback)((()=>(0,b.jsx)("div",{className:Wt,children:(0,b.jsx)(a.Suspense,{fallback:null,children:(0,b.jsx)(qt,{tracks:e.items,query:s})})})),[s,e]),c=`spotify:app:search:${encodeURIComponent(s)}:tracks`,u=(0,a.useCallback)((()=>{const e=n.headerFactory().titleFactory().hitUiNavigate({destination:c});l.logInteraction(e)}),[l,n,c]),d=(0,a.useCallback)((()=>{const e=n.headerFactory().seeAllFactory().hitUiNavigate({destination:c});l.logInteraction(e)}),[l,n,c]);return e.items.length?(0,b.jsxs)("section",{className:i()(Ot,t),"aria-label":p.ag.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,b.jsx)("div",{className:Mt,children:e.items.length>3?(0,b.jsxs)("div",{className:_t,children:[(0,b.jsx)("div",{className:Ht,children:(0,b.jsx)(ne.D,{as:"h2",variant:"canon",children:r?(0,b.jsx)(U.Link,{to:c,className:Bt,onClick:u,children:p.ag.get("search.title.tracks")}):(0,b.jsx)("span",{className:Bt,children:p.ag.get("search.title.tracks")})})}),r&&(0,b.jsx)(Lt.SeeAll,{link:c,onClick:d})]}):(0,b.jsx)(ne.D,{as:"h2",variant:"canon",className:Bt,children:p.ag.get("search.title.tracks")})}),(0,b.jsx)(j.Nh,{spec:n,children:(0,b.jsx)(Q.T,{render:o})})]}):null},$t=({topRecommendations:e,query:s,className:t,onAddToHistory:a,position:r,showSeeAll:i})=>{const n=e.totalCount||0;return(0,b.jsx)(f.q,{index:r,id:"top-recommendations",className:t,total:n,title:p.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(s)}:topRecommendations`,showSeeAll:i,children:e.items.map(((e,s)=>(0,b.jsx)(k.ZP,{index:s,value:"top-recommendations",children:(0,b.jsx)(dt.h,{onClick:()=>a(e),entity:e,index:s})},e.uri)))})};var Zt=t(54745);const Gt="search-searchResult-topResult",Qt="search-searchResult-topResultCard",Xt="search-searchResult-searchResultGrid",Kt="EFHPppToKFxfm6SRhL6K",Vt="search-searchResult-tracklistShort",Yt="search-searchResult-tracklistLong",Jt="FTRmZyHUkeVY_X3RawUc",ea="Tx_CKMgRE8CpW5vLdpAe",sa=({topResults:e,onAddToHistory:s})=>{const[t]=e.items;return t&&(0,b.jsx)(Zt.P,{total:1,className:Gt,title:p.ag.get("search.title.top-result"),children:[(0,b.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Qt,children:(0,b.jsx)(k.ZP,{value:"top-result-card",children:(0,b.jsx)(dt.h,{isHero:!0,index:0,onClick:()=>s(t),entity:t})})},"top-result-item")]})},ta=({results:e})=>{const{query:s,onAddToHistory:t,serpId:r}=(0,F.A)(),i=(0,ae.ix)(s).toURI(),{spec:n,UBIFragment:l}=(0,j.fU)(Tt.r,{data:{uri:i,reason:r}}),o=e.topResults.items.length>0,c=e.tracks.items.length>0,u=e.topRecommendations.items.length>0,d=(0,a.useMemo)((()=>({topResult:n.topResultFactory(),trackList:n.trackListFactory(),shelves:n.shelvesFactory()})),[n]);return(0,b.jsx)(Q.T,{className:Xt,rowGap:Pt.mG,testId:"search-results",render:({columnCount:a})=>{let r,i;return o?r=a>3?Vt:Yt:u&&(a>5&&c?(r=Kt,i=Jt):(r=Yt,i=ea)),(0,b.jsxs)(k.ZP,{value:"search-results",children:[o&&(0,b.jsx)(l,{spec:d.topResult,children:(0,b.jsx)(sa,{topResults:e.topResults,onAddToHistory:t})}),c&&(0,b.jsx)(zt,{spec:d.trackList,className:r,query:s,tracks:e.tracks,onAddToHistory:t,showSeeAll:!1}),u&&(0,b.jsx)(l,{spec:d.shelves,children:(0,b.jsx)($t,{position:0,query:s,className:i,topRecommendations:e.topRecommendations,onAddToHistory:t,showSeeAll:!1})}),D.Pd.map(((a,r)=>(0,b.jsx)(l,{spec:d.shelves,children:(0,b.jsx)(pt,{position:r+1,category:a,title:D.Wm[a](),query:s,results:e[a],onAddToHistory:t,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},aa=({results:e,hasResults:s,category:t="topResults"})=>{const a=(0,u.W6)(R.Dzq),{category:r,query:i,serpId:n}=(0,F.A)(),l=(0,ae.ix)(i).toURI(),o=!(0,G.k)(),{spec:c,UBIFragment:d}=(0,j.fU)(Tt.r,{data:{uri:l,reason:n}});return o?(0,b.jsx)(me,{}):e?e&&!s?(0,b.jsx)(d,{spec:c.emptyResultsFactory(),children:(0,b.jsx)(me,{})}):a&&!r?t===At?(0,b.jsx)(ht,{results:e}):(0,b.jsx)(wt,{results:e,hasResults:s}):(0,b.jsx)(ta,{results:e}):null};var ra=t(41276),ia=t(12725),na=t(60433),la=t(35941),oa=t(92627),ca=t(89379),ua=t(37937),da=t(38159);const pa=({results:e,hasResults:s})=>{const t=(0,u.W6)(R.Dzq),{isBrowser:r}=(0,n.v9)((e=>e.platform)),o=(0,n.v9)(oa.rZ),c=(0,na.g)(),p=(0,m.s4)(),{version:h}=(0,m.tc)(),{category:g}=(0,F.A)(),x=((e,s,t)=>{const a=e?.chipOrder?.items??[];return Array.from(a.reduce(((a,r)=>{if(!r.typeName)return a;if(!t&&r.typeName===W.xN.TopResults)return a;const[i,n]=Z[r.typeName];return n&&i&&(s===n||e?.[i]?.items?.length)?(a.add(n),a):a}),new Set([])))})(e,g,t),y="podcasts"!==g&&"episodes"!==g,j=t?x[0]:void 0,f=(e=>{if(!e)return!1;const[s]=e.topResults.items;return Boolean(s&&s.type===z.p.TRACK)})(e),v=(0,u.W6)(R.zzt);return(0,a.useEffect)((()=>{r||e&&s&&(({eventSender:e,country:s,isAnonymous:t,context:a,variant:r})=>{const i={category:"internal-search-test",action:"search-results-page-visit",variant:r,label:"desktop-app",context:a,os:(0,$.y)(),country:s,spt:(0,O.vQ)("sp_t")};t?e.send((0,B.k)(i)):e.send((0,H.x)(i))})({eventSender:p,country:o,isAnonymous:c,context:JSON.stringify({top_result_is_track:f,version:h}),variant:v})}),[o,p,s,c,r,e,f,v,h]),(0,b.jsxs)(k.ZP,{value:"search-page",children:[(0,b.jsx)(ia.w,{children:(0,b.jsx)(Dt.M,{isSearchChipsEnabled:!0})}),(0,b.jsx)(_,{searchCategories:x,selectedCategory:g??j,displayChips:y}),(0,b.jsx)("div",{className:i()("contentSpacing",{[da.Z.narrowPage]:t&&e}),id:"searchPage",children:(0,b.jsx)(Q.T,{className:da.Z.searchPageGrid,render:()=>(0,b.jsxs)(l.Z5,{children:[(0,b.jsx)(l.AW,{path:"/",element:(0,b.jsx)(V.K,{pageId:d.Wg.FIND,entityUri:"spotify:app:search",children:(0,b.jsx)(I,{})})}),(0,b.jsx)(l.AW,{path:":query",element:(0,b.jsx)(ee,{children:(0,b.jsx)(aa,{results:e,hasResults:s,category:j})})}),(0,b.jsx)(l.AW,{path:":query/:category",element:(0,b.jsx)(J,{children:(0,b.jsx)(Ft,{results:e,hasResults:s,displayChips:y})})})]})})})]})};const ma=a.memo((function(){const e=(0,u.W6)(R.Dzq),s=!(0,G.k)(),[{category:t,query:r},i]=(0,ua.l)();(0,la.z)("search");const[n,l]=(0,a.useState)({results:null,queryForResults:r??""}),o=n.results,d=function(e){return null!==e&&void 0!==Object.keys(e).find((s=>"chipOrder"!==s&&e[s].items.length>0))}(o),m=(0,a.useMemo)((()=>new ca.k((0,K.PQ)(X.b.getInstance()))),[]),{searchHistory:h,setSearchHistory:g}=(0,C.u)(),x=(0,a.useCallback)((e=>{g([e,...h])}),[h,g]),y=(0,a.useCallback)((async e=>{e===n.queryForResults&&d||i(e,t,!1)}),[n.queryForResults,t,d,i]);(0,a.useEffect)((()=>{(async()=>{if(!r)return;if(s)return void l({results:null,queryForResults:r});const t=e?20:5,a=await m.getSearchResults(r,!0,0,10,t);l({results:a,queryForResults:r})})()}),[r,m,e,s]),(0,a.useEffect)((()=>{r||l({results:null,queryForResults:""})}),[r]);const j=(0,a.useMemo)((()=>c().create().toString()),[t,n.queryForResults]),f=(0,a.useMemo)((()=>({api:m,category:t,query:n.queryForResults,onAddToHistory:x,onSearchRequest:y,serpId:j})),[m,t,x,y,n.queryForResults,j]);return(0,b.jsxs)(F.N,{value:f,children:[(0,b.jsx)(ra.$,{children:p.ag.get("search.page-title")}),(0,b.jsx)(pa,{results:o,hasResults:d})]})}))},38510:(e,s,t)=>{t.d(s,{V:()=>P,e:()=>F});var a=t(59496),r=t(55411),i=t(74834),n=t(63029),l=t(93017),o=t(83354),c=t(61674),u=t(49502),d=t(35657),p=t(28210),m=t(25687),h=t(8177),g=t(81092),x=t(38941),y=t(47570),j=t(60433),f=t(23828),v=t(25702),k=t(65669),C=t(90191),b=t(6721),S=t(70657),R=t(57528),E=t(92499),I=t(54067),N=t(80320),w=t(89458),A=t(3893),U=t(4637);function F(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const D=e=>`activation-trigger-mme-${e}`,P=a.memo((function({index:e=-1,showMetadata:s,episode:t,usePlayContextItem:P,status:T,variant:q}){const L=(0,w.E)(),M=t.playedState.playPositionMilliseconds,_=t.uri,H=(0,a.useRef)(null),[B,O]=(0,a.useState)(t.playedState.state===I.sY.Completed),W=(0,x.O)(),z=(0,j.g)(),$=(0,S.jh)(),Z=(0,y.o)(),G=(0,r.I0)(),{UBIFragment:Q,spec:X,logger:K}=(0,E.fU)(n.createDesktopEpisodeBlockEventFactory,{data:{uri:_,reason:t.requestId||"",position:e}}),V=(0,E.Wi)(X),{isActive:Y,isPlaying:J,togglePlay:ee}=P({uri:_}),[se]=(0,R.z)(1e4,(e=>e?.item?.uri===_));(0,a.useEffect)((()=>{J&&(H.current=se)}),[J,se]),(0,a.useEffect)((()=>{!J&&H.current&&t.duration.milliseconds<=H.current&&O(!0)}),[J,t.duration.milliseconds]);const te=(0,a.useCallback)((e=>{e||(H.current=0),O(e)}),[]),ae=e=>{if(e.target!==e.currentTarget)return;const a=`${t.name} • ${s.name}`;W(e,[_],a,s.uri)},re=F(s),ie=(0,f.s)({...t,coverArt:{sources:t.coverArt}},re),ne=(0,a.useCallback)((()=>{if(t.episodeType===I.Wf.Episode&&L)h.y.set((()=>({triggerId:D(t.uri),triggerAction:null})));else if(z)ie();else{let e;e=J?X.playButtonFactory().hitPause({itemToBePaused:_}):Y?X.playButtonFactory().hitResume({itemToBeResumed:_}):X.playButtonFactory().hitPlay({itemToBePlayed:_});const s=K.logInteraction(e);Z({targetUri:_,intent:J?"pause":"play",type:"click"}),ee({loggingParams:s})}}),[Y,ie,Z,ee,_,J,z,t,L,K,X]),le=(0,a.useCallback)((()=>{K.logInteraction(X.hitUiNavigate({destination:_})),Z({type:"click",targetUri:_,intent:"navigate"})}),[_,Z,K,X]),oe=t.podcastSubscription?.isPaywalled??!1,ce=t.podcastSubscription?.isUserSubscribed??!1,ue=oe&&!ce,de=oe&&z,{badges:pe}=(0,N.r)({contentRating:t.contentRating?.label,isPaywalled:oe}),me=(0,a.useCallback)((()=>G((0,o.RM)(s.uri))),[s.uri,G]),he=(0,a.useCallback)((e=>{let a=e;return(ue||de)&&(a=(0,U.jsx)(m.l,{enabled:!0,showUri:s.uri,children:a})),!t.playability.playable&&pe.nineteen&&(a=(0,U.jsx)("div",{onClick:e=>{e.stopPropagation(),me()},children:e})),a=(0,U.jsx)(c.D,{id:D(_),targetURI:(0,l.EC)(_),children:a}),a}),[_,ue,de,s.uri,pe.nineteen,t.playability.playable,me]),ge=(0,i.W6)(A.eli,{loadingValue:!1});return(0,U.jsx)(Q,{spec:X,children:(0,U.jsx)(b.ZP,{value:"row",index:e,children:(0,U.jsx)(v._,{onShow:()=>{K.logInteraction(X.secondaryHitUiReveal())},menu:(0,U.jsx)(u.k,{uri:_,showUri:s.uri,sharingInfo:t.sharingInfo,isPlayed:B,onMarkAsPlayed:te}),children:ge?(0,U.jsx)(p.k,{ref:V,requestId:t.requestId,index:e,uri:_,size:$,images:t.coverArt||[],name:t.name,showName:s.name,description:t.description,isPlayable:t.playability.playable||ue,fullyPlayed:B,durationMs:t.duration.milliseconds,releaseDate:t.releaseDate?.isoString||"",resumePositionMs:H.current??M,handleDragStart:ae,handlePlaybackClick:ne,handleClick:le,isCurrentlyPlaying:Y,isPaywalled:oe,isUserSubscribed:ce,isPlaying:J,position:J?se:void 0,episodeSharingInfo:t.sharingInfo,onMarkAsPlayed:te,contentInformation:t.contentInformation,badges:(0,U.jsxs)(U.Fragment,{children:[pe.explicit&&(0,U.jsx)(k.N,{}),pe.paid&&(0,U.jsx)(g.g,{}),pe.nineteen&&(0,U.jsx)(C.X,{size:16})]}),playButtonWrapper:he,onMoreButtonClick:()=>{K.logInteraction(X.moreButtonFactory().hitUiReveal())},status:T,variant:q}):(0,U.jsx)(d.X,{ref:V,requestId:t.requestId,index:e,uri:_,size:$,images:t.coverArt||[],name:t.name,showName:s.name,description:t.description,isPlayable:t.playability.playable||ue,fullyPlayed:B,durationMs:t.duration.milliseconds,releaseDate:t.releaseDate?.isoString||"",resumePositionMs:H.current??M,handleDragStart:ae,handlePlaybackClick:ne,handleClick:le,isCurrentlyPlaying:Y,isPaywalled:oe,isUserSubscribed:ce,isPlaying:J,position:J?se:void 0,episodeSharingInfo:t.sharingInfo,onMarkAsPlayed:te,contentInformation:t.contentInformation,badges:(0,U.jsxs)(U.Fragment,{children:[pe.explicit&&(0,U.jsx)(k.N,{}),pe.paid&&(0,U.jsx)(g.g,{}),pe.nineteen&&(0,U.jsx)(C.X,{size:16})]}),playButtonWrapper:he,onMoreButtonClick:()=>{K.logInteraction(X.moreButtonFactory().hitUiReveal())},status:T,variant:q})})})})}))},23828:(e,s,t)=>{t.d(s,{s:()=>p});var a=t(59496),r=t(47570);const i=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function n(e,s){return e.filter((e=>e.label?e.label===s:e.width?i(e.width)===s:!!e.height&&i(e.height)===s))[0]}var l=t(9835);function o(e){const s=n(e,"standard"),t=n(e,"large"),a=n(e,"small"),r=n(e,"xlarge");return{image_url:s?.url,image_height:s?.height?.toString(),image_width:s?.width?.toString(),image_url_large:t?.url,image_height_large:t?.height?.toString(),image_width_large:t?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:r?.url,image_height_xlarge:r?.height?.toString(),image_width_xlarge:r?.width?.toString()}}var c=t(65720),u=t(34703),d=t(55993);function p(e,s){const t=(0,r.o)(),i=(0,c.g)(),{isPlaying:n,isActive:p}=(0,u.$o)(e?.uri||""),{isActive:m}=(0,u.cR)(s?.uri||"");return(0,a.useCallback)((a=>{if(!s||!e)return;const r=function(e,s){const t=(e.coverArt?.sources||[]).sort(((e,s)=>(s.width||0)-(e.width||0))),a=(0,l.Xb)(e,s),r=(0,l.Ie)(s)||a;return{uri:e.uri,title:e.name,subtitle:s.name,type:"episode",album_uri:s.uri,album_title:s.name,artist_uri:s.uri,artist_name:s.name,...o(t),media_type:"audio",isTrailer:a,anonymousPlaybackAllowed:r}}(e,s);m&&!n&&p&&!a?i.resume():m&&n&&!a?(t({type:"click",intent:"pause",targetUri:e.uri}),i.pause()):(t({type:"click",intent:"play",targetUri:e.uri}),i.play({uri:s.uri,pages:[{items:[{type:d.p.EPISODE,uri:e.uri,uid:null,metadata:r,provider:null}]}]},{referrerIdentifier:i.getReferrer(),featureIdentifier:"episode"},a))}),[p,n,m,i,t,s,e])}},22189:(e,s,t)=>{t.d(s,{$:()=>a});const a=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map